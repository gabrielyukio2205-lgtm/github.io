<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeJade - J.A.D.E. Agent</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="codejade.css">
    <!-- Monaco Editor CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
</head>

<body data-theme="dark">
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <a href="apps.html" class="back-btn">‚Üê</a>
                <div class="logo">
                    <span class="logo-icon">ü§ñ</span>
                    <span class="logo-text">Code<span class="accent">Jade</span></span>
                </div>
            </div>

            <div class="header-center">
                <div class="repo-selector">
                    <button class="repo-btn" id="repo-btn">
                        <span id="repo-name">Selecionar Repo</span>
                        <span class="chevron">‚ñº</span>
                    </button>
                </div>
                <div class="status-badge" id="status-badge">
                    <span class="status-dot"></span>
                    <span id="status-text">Conectando...</span>
                </div>
            </div>

            <div class="header-right">
                <button class="btn-icon" id="diff-btn" title="Ver Diff">üìä</button>
                <button class="btn-icon" id="commit-btn" title="Commit">üíæ</button>
                <button class="btn-icon" id="theme-toggle">üåô</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- File Tree Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <span>üìÅ Arquivos</span>
                    <button class="btn-icon-small" id="refresh-files">üîÑ</button>
                </div>
                <div class="file-tree" id="file-tree">
                    <div class="empty-state">
                        Clone um reposit√≥rio<br>para come√ßar
                    </div>
                </div>
            </aside>

            <!-- Editor Panel -->
            <div class="editor-panel">
                <div class="editor-tabs" id="editor-tabs">
                    <div class="tab active" data-path="welcome">
                        <span>Bem-vindo</span>
                    </div>
                </div>
                <div class="editor-container" id="editor-container">
                    <div class="welcome-editor" id="welcome-editor">
                        <div class="welcome-content">
                            <div class="welcome-icon">ü§ñ</div>
                            <h2>CodeJade</h2>
                            <p>Agente de c√≥digo estilo Cursor AI</p>
                            <div class="features-grid">
                                <div class="feature">
                                    <span class="feature-icon">üìÇ</span>
                                    <span>Clone GitHub</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">‚úèÔ∏è</span>
                                    <span>Monaco Editor</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">üå≥</span>
                                    <span>AST Editing</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">üöÄ</span>
                                    <span>Git Commit/Push</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="monaco-editor" style="display:none;"></div>
                </div>
            </div>

            <!-- AI Chat Panel -->
            <aside class="chat-panel" id="chat-panel">
                <div class="chat-header">
                    <span>üí¨ AI Chat</span>
                    <button class="btn-icon-small" id="clear-chat">üóëÔ∏è</button>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="message assistant">
                        <p>Ol√°! Sou o CodeJade. Clone um repo ou me pe√ßa algo.</p>
                    </div>
                </div>
                <div class="chat-input-container">
                    <textarea id="chat-input" placeholder="Pe√ßa edi√ß√µes, refatora√ß√£o, an√°lise..." rows="2"></textarea>
                    <button class="send-btn" id="send-btn">‚ñ∂</button>
                </div>
            </aside>
        </main>
    </div>

    <!-- Clone Modal -->
    <div class="modal hidden" id="clone-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìÇ Clonar Reposit√≥rio</h3>
                <button class="modal-close" id="clone-close">√ó</button>
            </div>
            <div class="modal-body">
                <input type="text" id="repo-input" placeholder="owner/repo ou URL completa" class="input-field">
                <div class="modal-actions">
                    <button class="btn-secondary" id="clone-cancel">Cancelar</button>
                    <button class="btn-primary" id="clone-confirm">Clonar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Diff Modal -->
    <div class="modal hidden" id="diff-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìä Diferen√ßas</h3>
                <button class="modal-close" id="diff-close">√ó</button>
            </div>
            <div class="modal-body">
                <pre id="diff-content" class="diff-view">(carregando...)</pre>
            </div>
        </div>
    </div>

    <!-- Plan Approval Modal (Jules Style) -->
    <div class="modal hidden" id="plan-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìã Plano de Execu√ß√£o</h3>
                <button class="modal-close" id="plan-close">√ó</button>
            </div>
            <div class="modal-body">
                <p style="color: var(--text-secondary); margin-bottom: 16px;">
                    Revise os passos antes de executar:
                </p>
                <div id="plan-steps" class="plan-container">
                    <!-- Steps will be inserted here -->
                </div>
                <div class="modal-actions">
                    <button class="btn-secondary" id="plan-cancel">‚ùå Cancelar</button>
                    <button class="btn-primary" id="plan-approve">‚úÖ Aprovar e Executar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Commit Modal -->
    <div class="modal hidden" id="commit-modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>üíæ Commit & Push</h3>
                <button class="modal-close" id="commit-close">√ó</button>
            </div>
            <div class="modal-body">
                <input type="text" id="commit-message" placeholder="Mensagem do commit" class="input-field">
                <div class="modal-actions">
                    <button class="btn-secondary" id="commit-cancel">Cancelar</button>
                    <button class="btn-primary" id="commit-confirm">Commit & Push</button>
                </div>
            </div>
        </div>
    </div>

    <script src="codejade.js"></script>
</body>

</html>